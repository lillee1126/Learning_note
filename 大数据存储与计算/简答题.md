1. Hive 的元数据存储组件称为______，常用的第三方元数据存储数据库有______和______。

   Metastore；MySQL；PostgreSQL（解析：Hive 元数据默认存储在 Derby，生产环境常用 MySQL 或 PostgreSQL）

2. 分区表的分区字段本质是______，不存储在实际数据文件中。

   虚拟列（解析：分区字段仅用于分区目录划分，不存储在数据文件中）

3. 简述 Hive 内部表和外部表的核心区别，以及各自的适用场景。

​	核心区别：① 数据归属：内部表数据由 Hive 管理，删除表时删除数据；外部表数据独立于 Hive，删除表不删数据。② 元数据存储：内部表记录数据存储路径，外部表需指定`LOCATION`关联 HDFS 路径。适用场景：内部表适合临时数据处理、中间结果存储；外部表适合多工具共享数据（如 Hive 与 Spark 共用数据）、需长期保留的数据。

​    4.什么是 Hive 动态分区？使用动态分区时需要注意哪些配置参数？

​	动态分区：插入数据时，Hive 自动根据查询结果中的字段值创建分区，无需手动指定分区值。

​	注意参数：

​	① `hive.exec.dynamic.partition=true`（开启动态分区）；

​	② `hive.exec.dynamic.partition.mode=nonstrict`（非严格模式，允许全动态分区）；

​	③ `hive.exec.max.dynamic.partitions`（最大动态分区数，默认 1000）。

   5.简述 Hive 的查询执行流程，从 SQL 提交到结果返回的主要步骤。

查询执行流程：① SQL 解析：HiveQL 通过语法解析器生成抽象语法树（AST）；② 语义分析：结合元数据验证表、字段合法性，生成逻辑执行计划；③ 优化：优化器对逻辑计划进行剪枝、分区过滤等优化；④ 物理计划生成：将优化后的逻辑计划转换为 MapReduce/Spark 任务；⑤ 任务提交：提交任务到 YARN 执行；⑥ 结果返回：收集任务执行结果，返回给用户。

   6.简述 Hive 分区表和桶表的核心区别，以及各自的适用场景。

​	核心区别：① 分区依据：分区表基于虚拟列（如日期）分区，桶表基于指定列的哈希值分区；② 数据划分：分区表是粗粒度划分（如按日期拆分文件），桶表是细粒度划分（如按用户 ID 哈希拆分）；③ 存储结构：分区表按 “分区字段 = 值” 创建子目录，桶表按桶编号创建子目录。适用场景：分区表适合按时间、地区等维度拆分大数据集（如日志按日期分区）；桶表适合需高效 JOIN、抽样查询的场景（如用户表与订单表按用户 ID 分桶，提升 JOIN 效率）。