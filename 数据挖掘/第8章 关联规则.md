# 基本概念

### 支持度

- 项集支持度：项集X的支持度是指X在数据集D中出现的概率

  $Sport(X)=P(X)$

- 规则支持度：关联规则X->Y在数据集D中的支持度是D中同时包含X、Y的事务数与所有事务数之比

  $Sport(X->Y)= \frac {Sport(X U Y)}{|D|}$

### 置信度

用来衡量关联规则的可信程度

$Cdence(X->Y)= \frac {Sport(X U Y)}{Sport(X)}$

 同时满足最小支持度和最小置信度的关联规则称为**强关联规则**，通常说的关联规则都是强关联规则

### 提升度

提升度是指当销售X商品对Y商品销售率的影响程度

$Lift(X->Y)= \frac {Cdence(A->B)}{Sport(B)}$

### 频繁项集

若k项集X的支持度不小于用户指定的最小支持度，则称X为频繁k项集

### 最大频繁项集

如果X是一个频繁项集，并且X的任意一个超级都是非频繁的，则称X是最大频繁项集

# 挖掘关联规则算法

### Apriori

算法描述：

是一种深度优先算法，使用频繁项集性质的先验知识，利用逐层搜索的迭代方法完成频繁项集的挖掘工作，即k-项集用于搜索产生（k+1）-项集，不断循环下去，直到不能找到频繁k-项集为止

分为联合与剪枝

剪枝的原则是：候选项集c的k个长度为k-1的子集都在$L_k-1$中，则保留c，否则c被剪枝

### Apriori 剪枝规则 

由此推导得出 Apriori 剪枝规则： 对任意候选 $k$-项集，如果它的某个 $(k−1)$-子集不是频繁项集，那么该候选 $k$-项集一定是非频繁的，直接从候选集中剔除。 

### 剪枝规则的应用时机与步骤 剪枝发生在 **“连接生成候选 $k$-项集” 之后，“计算候选支持度” 之前**，

具体流程如下： 

**连接阶段**：将两个前 $k−2$ 项相同的频繁 $(k−1)$-项集合并，生成候选 $k$-项集 $C_k$。   

例：频繁 2-项集 $\{A,B\}$ 和 $\{A,C\}$ → 合并生成候选 3-项集 $\{A,B,C\}$。

**剪枝阶段**：遍历每个候选 $k$-项集，生成它的所有 $(k−1)$-子集，检查这些子集是否都在频繁 $(k−1)$-项集列表 $L_{k−1}$ 中。   

例：候选 3-项集 $\{A,B,C\}$ 的 $(k−1)$-子集为 $\{A,B\}$、$\{A,C\}$、$\{B,C\}$，需检查这 3 个子集是否都在 $L_2$ 中

**剔除阶段**：若任意一个 $(k−1)$-子集不在 $L_{k−1}$ 中（即该子集是非频繁的），则直接剔除当前候选 $k$-项集。

   例：若 $\{B,C\}$ 不是频繁 2-项集 → 候选 3-项集 $\{A,B,C\}$ 必然是非频繁的，直接剪枝

| 优点                                  | 缺点                         |
| ------------------------------------- | ---------------------------- |
| 原理简单，易于实现                    | 多次扫描事务集，I/O 开销大   |
| 基于单调性剪枝，减少计算量            | 生成大量候选项集，内存占用高 |
| 结果可解释性强，适配业务决策          | 对稀疏数据集效率低           |
| 通用性强，适用于多数 “事务 - 项” 场景 | 无法高效处理高维数据         |

### FP-Growth

比Apriori效率更高，在整个算法的执行过程中，只需要遍历事务集两次

使用的特定的FP-Tree存储，是一颗前缀树，按支持度降序排列，支持度越高的频繁项离根节点近，从而使更多的频繁项可以共享前缀

| 优点                          | 缺点                                |
| ----------------------------- | ----------------------------------- |
| 仅扫描事务集 2 次，I/O 开销低 | FP - 树构建逻辑复杂，不易理解和实现 |
| 无需生成候选项集，内存占用少  | 对内存敏感，超大规模数据易内存溢出  |
| 稀疏数据集挖掘效率高          | 低支持度场景下效率下降              |
| 擅长挖掘长频繁项集            | 不支持数据集的增量更新              |
| 可并行化扩展，适合分布式场景  | -                                   |

### Eclat



