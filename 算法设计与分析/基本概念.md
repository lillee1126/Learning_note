**概率算法**把“对于所有合理的输入都必须给出正确的输出”这个条件放宽，允许算法在执行过程中随机选择下一步该如何进行，同时允许结果以较小的概率出现错误，并以此为代价，获得算法运行的时间大幅减小





## 一、核心基础：什么是 “多项式时间”？

在定义三类问题前，先明确一个关键前提 ——**多项式时间（Polynomial Time）**：指算法的时间复杂度可以表示为 *O*(*n**k*)（*n* 是问题规模，*k* 是常数，如 *O*(*n*)、*O*(*n*2)、*O*(*n*3)）。

- 多项式时间算法 = 「高效可解」算法（随着问题规模增大，运行时间增长较慢，实际可落地）；
- 非多项式时间算法（如 *O*(2*n*)、*O*(*n*!)）= 「低效不可解」算法（问题规模稍大就会 “超时”，如 *n*=50 时 250 是天文数字）。

## 二、P 类问题：能高效求解的问题

### 1. 严格定义

**P（Polynomial）类问题**：存在一个**多项式时间算法**，能够直接求出问题的解（即 “找到答案” 的过程是高效的）。

### 2. 通俗理解

这类问题是 “有快速解法” 的问题 —— 给定输入，能在合理时间内算出结果。

### 3. 经典实例

- 排序问题（冒泡排序、快速排序）：时间复杂度 *O*(*n*log*n*)（属于多项式时间，因 log*n* 增长比多项式慢）；
- 最短路径问题（Dijkstra 算法）：时间复杂度 *O*(*n*2)；
- 质数判定（现代算法）：可在多项式时间内判断一个数是否为质数；
- 二分查找：时间复杂度 *O*(log*n*)。

## 三、NP 类问题：能高效验证的问题

### 1. 严格定义

**NP（Nondeterministic Polynomial）类问题**：存在一个**多项式时间算法**，能够**验证一个 “候选解” 是否为问题的真实解**（即 “检查答案” 的过程是高效的），但不一定能高效 “找到答案”。

### 2. 关键说明

- “Nondeterministic”（非确定性）：可以理解为 “存在一个猜测过程”—— 如果能猜到一个候选解，就能快速验证它是否正确；
- NP 类问题包含 P 类问题（因为能高效求解的问题，必然能高效验证：直接求解出答案后，验证它就是 “答案正确”，耗时和求解一致，也是多项式时间）；
- 核心疑问：**NP 类问题是否都属于 P 类？**（即 “能高效验证的问题，是否都能高效求解？”）—— 这就是著名的 **P=NP？** 问题（至今未被证明，是计算机科学的核心难题）。

### 3. 经典实例

- 哈密顿回路判定（HC）：给定一个图和一条路径，验证这条路径是否是 “经过所有顶点一次且回到起点” 的回路，只需遍历路径检查顶点是否重复、是否闭合（多项式时间）；但找到这条回路可能需要枚举所有路径（非多项式时间）；
- 子集和问题：给定一组数字和一个目标值，验证是否存在一个子集的和等于目标值（只需计算子集和，多项式时间）；但找到这个子集可能需要枚举所有子集（非多项式时间）；
- 数独求解：验证一个填好的数独是否符合规则（每行、每列、每宫无重复数字）是多项式时间，但求解一个空白数独可能需要回溯尝试（非多项式时间）。

## 四、NP 完全问题（NPC）：NP 中 “最难” 的问题

### 1. 严格定义

一个问题被称为**NP 完全问题**，需满足两个条件：

1. 自身属于 NP 类（能高效验证候选解）；
2. 所有其他 NP 类问题都能在**多项式时间内归约**到它（即任何 NP 问题都可以转化为这个问题，且转化过程高效）。

### 2. 通俗理解

- NPC 问题是 NP 类问题中的 “天花板”—— 只要解决了任意一个 NPC 问题的多项式时间算法，就意味着所有 NP 问题都能通过 “转化” 得到多项式时间解法（即证明了 *P*=*NP*）；
- 反之，只要证明任意一个 NPC 问题不存在多项式时间算法，就意味着所有 NPC 问题都无法高效求解（即证明了 *P*=*NP*）。

### 3. 经典实例

- 旅行商问题（TSP）的判定版：“是否存在一条总权重≤K 的哈密顿回路？”（验证候选回路的总权重是否≤K 是多项式时间，属于 NP；且所有 NP 问题可归约到它）；
- 哈密顿回路判定（HC）：如前所述，是 NPC 问题；
- 布尔可满足性问题（SAT）：给定一个布尔表达式（如 (*a*∨*b*)∧(¬*a*∨*c*)），判断是否存在变量赋值（a = 真 / 假，b = 真 / 假等）使表达式为真 —— 这是第一个被证明的 NPC 问题（库克定理）；
- 顶点覆盖问题：给定一个图和整数 k，是否存在 k 个顶点，使得图中所有边都至少有一个端点在这 k 个顶点中；
- 集合覆盖问题、3-Coloring（三色着色）问题等。

## 五、三者关系总结（核心逻辑链）

1. **包含关系**：*P*⊆*NP*（能高效求解的，必能高效验证）；NPC 是 NP 的子集，且是 NP 中 “最难” 的子集；

2. **核心未解问题**：*P*=*NP*？—— 若成立，说明所有能高效验证的问题都能高效求解（NPC 问题也有多项式算法）；若不成立，说明 NPC 问题永远没有高效解法；

3. 实际意义

   ：

   - 若一个问题被证明是 NPC，通常认为它 “不存在高效解法”，实际应用中只能用近似算法、回溯法（针对小规模输入）等求近似解或局部最优解；
   - 若一个问题属于 P 类，则优先寻找多项式时间算法（工程上可落地）。